<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sql.notice">
	<resultMap type="NoticeVO" id="selResultMap">
		<id column="Nno" jdbcType="BIGINT" property="Nno"/>
		<result column="adminId" jdbcType="VARCHAR" property="adminId"/>
		<result column="Ntitle" jdbcType="VARCHAR" property="Ntitle"/>
		<result column="Ncontent" jdbcType="VARCHAR" property="Ncontent"/>
		<result column="readcount" jdbcType="BIGINT" property="readcount"/>
		<result column="regdate" jdbcType="TIMESTAMP" property="regdate"/>	
		<result column="delflag" jdbcType="VARCHAR" property="delflag"/>
	</resultMap>
	
	<sql id="NoticeCol">
		Nno, adminId, Ntitle, Ncontent, 
		regdate, readcount, delflag
	</sql>
	
	<select id="selectAll" resultType="NoticeVO">
		select * from NOTICE
	</select>
	
		<insert id="insertNotice" parameterType="NoticeVO">
		<selectKey keyProperty="Nno" order="BEFORE" resultType="int">
			select notice_seq.nextval from dual
		</selectKey>
		insert into notice(Nno, adminId, Ntitle, Ncontent) 
			values(#{no}, #{adminId},#{Ntitle},#{ Ncontent})
	</insert>
	


	<!--	

	<select id="selectByNo" parameterType="int" resultMap="selResultMap">
		select  
		<include refid="boardCol"></include>
		from board where no=#{no}
	</select>
	
	<select id="selectByNo" parameterType="int" resultType="BoardVO">
		select * from board where no=#{no}
	</select>
	
	<update id="updateReadcount" parameterType="int">
		update board 
		set readcount=readcount+1 
		where no=#{no}
	</update>
	
	<update id="updateBoard" parameterType="BoardVO">
		update board set name=#{name}, title=#{title}, email=#{email}, 
			content=#{content} 
		where no=#{no}
	</update>
	
	<select id="selectPwd" parameterType="int" resultType="string">
		select pwd from board where no=#{no}
	</select>
	
	<delete id="deleteBoard" parameterType="int">
		delete from board where no=#{no}	
	</delete>
	
	<delete id="deleteMulti" parameterType="map">
		delete from board
		where no in 
		<foreach item="no" collection="nos" open="(" close=")" separator=","
			index="index">
			#{no}
		</foreach>
	</delete> -->
	
	<!-- delete from board
		where no in (116, 112, 110) -->
	
</mapper>









