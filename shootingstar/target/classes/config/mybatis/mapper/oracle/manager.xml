<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sql.manager">
<!-- 관리자페이지  -->
	<select id="selectID" parameterType="string" resultType="managerVo">
		select * from admin where adminId=#{adminId}
	</select>
	
	<select id="selectPwdById" parameterType="String" resultType="String">
		select pwd from admin where adminId=#{adminId}
	</select>
	
	<select id="selectNameById" parameterType="String" resultType="String">
		select adminName from admin where adminId=#{adminId}
	</select>
	
	<insert id="insertManager" parameterType="managerVo">
		insert into admin(adminId,adminName,pwd)
		values(#{adminId},#{adminName},#{pwd})
	</insert>
	
	<select id="checkDuplicate" parameterType="String" resultType="int">
		select count(*) from admin
		where adminId=#{adminId}
	</select>

	<update id="adminUpdate" parameterType="managerVo">
		update admin set adminName=#{adminName}
		where adminId=#{adminId} and pwd=#{pwd}
	</update>
	
	<update id="pwdUpdate" parameterType="managerVo">
		update admin set pwd=#{newPwd}
		where adminId=#{adminId}
	</update>
	
<!-- 회원관리 -->
	<select id="memberList" parameterType="String" resultType="MemberVO">
		select rownum, memberId, name, pwd, tel, mileage, regdate, outdate 
		from member 
		order by regdate desc
	</select>
	<update id="updateMember" parameterType="memberVo">
		update member set name=#{name}, tel=#{tel}, mileage=#{mileage}
		where memberId=#{memberId}
	</update>
	
</mapper>









